<div class="col-lg-12">
	<div class="row h6" th:include="@{/stock/brands/edit.html}">
	</div>

	
	<div class="panel panel-default">
		<!-- /.panel-heading -->
		<div class="panel-body">
			<table width="100%"
				class="table table-striped table-bordered table-hover"
				id="brand-datatable">
				<thead>
					<tr>
						<th>Name</th>
						<th>Company</th>
						<th>Actions</th>
					</tr>
				</thead>
				
			</table>
			<!-- /.table-responsive -->
		</div>
		<!-- /.panel-body -->
	</div>
	<!-- /.panel -->
</div>

<!-- DataTables JavaScript -->
<script
	th:src="@{/static/vendor/datatables/js/jquery.dataTables.min.js}"></script>
<script
	th:src="@{/static/vendor/datatables-plugins/dataTables.bootstrap.min.js}"></script>
<script
	th:src="@{/static/vendor/datatables-responsive/dataTables.responsive.js}"></script>
<!-- Page-Level Demo Scripts - Tables - Use for reference -->
<script th:src="@{/static/js/ajax-form.js}"></script>
<script>
/*<![CDATA[*/
	$(document).ready(function() {
		var brand_table = $('#brand-datatable').DataTable({
			responsive : true,
			ajax: {
				url: '/api/datatable/brands'
			},
			processing: true,
	        serverSide: true,
			length: 5,
			start: 0,
	        columns: [
                { "data": "name", "name" : "Name", "title" : "Namezzzz"  },
                { "data": "company_name", "name" : "Company" , "title" : "Company Inc."},
                {
                    data: null,
                    className: "center",
                    defaultContent: '<a href="" class="editor_edit">Edit</a> / <a href="" class="editor_remove">Delete</a>'
                }
            ]  
		});
		
		 // Edit record
	    $("#brand-datatable").on('click', 'a.editor_edit', function (e) {
	        e.preventDefault();
	 
	        editor.edit( $(this).closest('tr'), {
	            title: 'Edit record',
	            buttons: 'Update'
	        } );
	    } );

		
		formModal($("#createBrandModal"), function() {
			brand_table.ajax.reload( null, false ); // user paging is not reset on reload
		});
	});
/*]]>*/
</script>