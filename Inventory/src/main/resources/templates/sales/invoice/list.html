<div class="row">
	<div class="col-lg-12">
	
		<div class="panel panel-default">
			<div class="panel-heading">
				<div class="row">
					<div class="col-md-4 col-md-offset-9">
						<a th:href="@{/sales/invoice/create}" class="btn btn-success btn-sm"><span class="fa fa-plus"></span> Create Sales Invoice</a>
					</div>
				</div>
			</div>
			<!-- /.panel-heading -->
			<div class="panel-body">
				<table class="table table-striped table-bordered table-hover"
					id="salesInvoice-datatable" style="width:100%">
					<thead>
						<tr>
							<th width="100px">System #</th>
							<th width="120px">Document #</th>
							<th>Date</th>
							<th>Location</th>
							<th class="col-md-2">Action</th>
						</tr>
					</thead>
					
				</table>
				<!-- /.table-responsive -->
			</div>
			<!-- /.panel-body -->
		</div>
	</div>
</div>
<!-- DataTables JavaScript -->
<script
	th:src="@{/static/vendor/datatables/js/jquery.dataTables.min.js}"></script>
<script
	th:src="@{/static/vendor/datatables-plugins/dataTables.bootstrap.min.js}"></script>
<script
	th:src="@{/static/vendor/datatables-responsive/dataTables.responsive.js}"></script>
<script>
	
	var table = $('#salesInvoice-datatable');
	var datatable = customFixedDatatable(table, '/api/datatable/sales/invoices', 
		[
        	{ data: "system_number" },
        	{ data: "document_number" },
        	{ data: "transaction_date" },
        	{ data: "location_name" },
    	],
    	[ 
    		{
                "targets": 4,
                "data": null,
                "defaultContent":
                	'<div class="btn-group" role="group">'
                	+ '<button class="btn btn-default fa fa-eye" id="btnView"/>'
                	/* + '<button class="btn btn-danger glyphicon glyphicon-remove" /> ' */
                	+ '</div>'
            }
    	]
	);
	
	// View button
    table.find("tbody").on('click', '#btnView', function (e) {
        e.preventDefault();
 		
        var data = datatable.row($(this).parent('div').parent('td')).data();
        window.location="opening/view/" + data.system_number;
        
    } );
</script>